var z=Object.defineProperty;var C=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var b=(s,e,t)=>e in s?z(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,v=(s,e)=>{for(var t in e||(e={}))q.call(e,t)&&b(s,t,e[t]);if(C)for(var t of C(e))H.call(e,t)&&b(s,t,e[t]);return s};var a=(s,e,t)=>(b(s,typeof e!="symbol"?e+"":e,t),t);import{u as T,c as O,a as L,d as U,b as G,r as $,I as K,e as W,f as X,g as Q,o as p,h as w,i as d,w as c,F as E,j as N,k as g,l as D,m as k,n as _,t as Y,p as M,q as f,s as F,v as S,x as Z,y as ee,z as te,R as se,A as ne,B as oe,C as ie,D as re,E as ae}from"./vendor.eb9dc460.js";const ce=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}};ce();const le=s=>btoa(unescape(encodeURIComponent(s))),ue=s=>decodeURIComponent(escape(atob(s))),R=s=>T(`https://data.jsdelivr.com/v1/package/npm/${s}`,{initialData:[],afterFetch:e=>(e.data=e.data.versions,e)}).json().data,y=(s,e,t="")=>{const n=e?`@${e}`:"";return`https://unpkg.com/${s}${n}${t}`},pe=()=>{let s=R("vue");return O(()=>{var e;return(e=s.value)==null?void 0:e.filter(t=>L(t,"3.2.0",">="))})},de=()=>{let s=R("vue-devui");return O(()=>{var e;return(e=s.value)==null?void 0:e.filter(t=>L(t,"1.0.0-beta.1",">="))})},fe={class:"flex justify-between p-2"},me=D("h1",{class:"text-base"}," DevUI Playground ",-1),he=k(" Share "),ve=k(" GitHub "),ge=U({props:{store:null},setup(s){const{success:e,warning:t}=G(),n=async()=>{if(!navigator.clipboard){t("navigator.clipboard is undefined");return}await navigator.clipboard.writeText(location.href),e("Current URL has been copied to clipboard.")},o=$({Vue:{name:"Vue",vers:pe(),activeVer:s.store.versions.Vue,isLoading:!1},DevUI:{name:"DevUI",vers:de(),activeVer:s.store.versions.DevUI,isLoading:!1}}),i=async(r,h)=>{o[r].isLoading=!0,await s.store.setVersion(r,h),o[r].isLoading=!1};return(r,h)=>{const I=K,B=W,x=X,J=M,j=Q;return p(),w("div",fe,[me,d(x,null,{default:c(()=>[(p(!0),w(E,null,N(g(o),l=>(p(),_(J,{key:l.name,spinning:l.isLoading},{default:c(()=>[d(x,null,{default:c(()=>[k(Y(l.name)+": ",1),d(B,{value:l.activeVer,"onUpdate:value":[u=>l.activeVer=u,u=>i(l.name,u)],class:"min-w-32",searchable:!0},{default:c(()=>[(p(!0),w(E,null,N(l.vers,u=>(p(),_(I,{key:u,label:u,value:u},null,8,["label","value"]))),128))]),_:2},1032,["value","onUpdate:value"])]),_:2},1024)]),_:2},1032,["spinning"]))),128)),d(j,{mode:"text",onClick:n},{default:c(()=>[he]),_:1}),d(j,{mode:"link",href:"https://github.com/brenner8023/devui-playground",target:"_blank",rel:"noopener noreferrer"},{default:c(()=>[ve]),_:1})]),_:1})])}}}),_e="modulepreload",P={},ye="./",Ie=function(e,t){return!t||t.length===0?e():Promise.all(t.map(n=>{if(n=`${ye}${n}`,n in P)return;P[n]=!0;const o=n.endsWith(".css"),i=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${i}`))return;const r=document.createElement("link");if(r.rel=o?"stylesheet":_e,o||(r.as="script",r.crossOrigin=""),r.href=n,document.head.appendChild(r),o)return new Promise((h,I)=>{r.addEventListener("load",h),r.addEventListener("error",I)})})).then(()=>e())},V="devui.js",be=`
import { getCurrentInstance } from 'vue'
import DevUI from 'vue-devui'

const install = (app) => {
  app.use(DevUI)
};

const loadCss = () => {
  const link = document.createElement('link')
  link.rel = 'stylesheet'
  link.href = '${y("vue-devui","1.0.0-beta.14","/style.css")}'
  document.body.appendChild(link)
}

export const setupDevui = () => {
  const instance = getCurrentInstance()
  instance.appContext.app.use({ install })
  loadCss()
};`,m="App.vue",A=`<template>
  <h1>
    Hello, DevUI!
  </h1>
  <d-button style="margin-right: 8px">Primary</d-button>
  <d-button :disabled="true">Disabled</d-button>
</template>

<script setup lang="ts">
import { setupDevui } from './devui.js'

// don't remove
setupDevui()
<\/script>`,we=s=>{const{Vue:e,DevUI:t}=s;return{"vue-devui":{pkg:"vue-devui",version:t,file:"/vue-devui.es.js"},vue:{pkg:"vue",version:e,file:"/dist/vue.esm-browser.js"}}},De=(s="")=>{let e={[m]:new f(m,A)};if(s)try{e={};const t=JSON.parse(ue(s));for(const n of Object.keys(t))e[n]=new f(n,t[n])}catch(t){console.log(t),console.log("Json parse error: src/repl-store/index.ts")}return e},ke=s=>{const e=y("@vue/compiler-sfc",s,"/dist/compiler-sfc.esm-browser.js"),t=y("@vue/runtime-dom",s,"/dist/runtime-dom.esm-browser.js");return{compilerSfc:e,runtimeDom:t}},Se=s=>{const e=v({},we(s));return Object.fromEntries(Object.entries(e).map(([t,n])=>[t,y(n.pkg,n.version,n.file)]))};class Ve{constructor({serializedState:e="",versions:t={Vue:"3.2.29",DevUI:"latest"}}){a(this,"state");a(this,"compiler");a(this,"options");a(this,"versions");a(this,"initialShowOutput",!1);a(this,"initialOutputMode","preview");a(this,"pendingCompiler",null);let n=De(e),o=n[m]?m:Object.keys(n)[0];this.state=$({mainFile:o,files:n,activeFile:n[o],errors:[],vueRuntimeURL:""}),this.versions=t,this.initImportMap()}initImportMap(){this.state.files["import-map.json"]||(this.state.files["import-map.json"]=new f("import-map.json",JSON.stringify({imports:{}},null,2)))}async initStore(){await this.setVueVersion(this.versions.Vue),this.state.files[V]=new f(V,be,!0),F(()=>S(this,this.state.activeFile));for(const e of Object.keys(this.state.files))e!==m&&S(this,this.state.files[e])}setActive(e){this.state.activeFile=this.state.files[e]}addFile(e){const t=typeof e=="string"?new f(e):e;this.state.files[t.filename]=t,t.hidden||this.setActive(t.filename)}deleteFile(e){(window==null?void 0:window.confirm(`Confirm to delete ${e}?`))&&(this.state.activeFile.filename===e&&(this.state.activeFile=this.state.files[this.state.mainFile]),delete this.state.files[e])}getFiles(){const e={};for(const t of Object.keys(this.state.files))e[t]=this.state.files[t].code;return e}async setFiles(e,t=m){const n={};t===m&&!e[t]&&(n[t]=new f(t,A));for(const[o,i]of Object.entries(e))n[o]=new f(o,i);for(const o of Object.values(n))await S(this,o);this.state.mainFile=t,this.state.files=n,this.initImportMap(),this.setActive(t)}setImportMap(e){try{this.state.files["import-map.json"].code=JSON.stringify(e,null,2)}catch(t){this.state.errors=[`stringify error in import-map.json: ${t.message}`]}}serialize(){const e=Object.entries(this.getFiles()).filter(([n])=>n!==V).map(([n,o])=>{if(n==="import-map.json")try{const i=JSON.stringify(this.getImportMap());return[n,i]}catch{}return[n,o]}),t=JSON.stringify(Object.fromEntries(e));return`#${le(t)}`}getImportMap(){try{return JSON.parse(this.state.files["import-map.json"].code)}catch(e){return this.state.errors=[`Syntax error in import-map.json: ${e.message}`],{}}}addDeps(){const e=this.getImportMap();e.imports=v(v({},e.imports),Se(this.versions)),this.setImportMap(e)}async setVersion(e,t){switch(e){case"DevUI":await this.setDevuiVersion(t);break;case"Vue":await this.setVueVersion(t);break}}async setDevuiVersion(e){this.versions.DevUI=e,this.addDeps()}async setVueVersion(e){const{compilerSfc:t,runtimeDom:n}=ke(e);this.pendingCompiler=Ie(()=>import(t),[]),this.compiler=await this.pendingCompiler,this.pendingCompiler=null,this.state.vueRuntimeURL=n,this.versions.Vue=e,this.addDeps()}}var xe=(s,e)=>{const t=s.__vccOpts||s;for(const[n,o]of e)t[n]=o;return t};const je=s=>(ne("data-v-83a81320"),s=s(),oe(),s),Ce=je(()=>D("div",{class:"ixp-height-full"},null,-1)),Oe={class:"flex flex-col ixp-height-full"},Le=U({setup(s){const e=Z(!0),t=new Ve({serializedState:location.hash.slice(1)});return t.initStore().then(()=>{e.value=!1}),F(()=>history.replaceState({},"",t.serialize())),(n,o)=>{const i=M,r=ge,h=ee;return p(),_(h,null,{default:c(()=>[e.value?(p(),_(i,{key:0,tip:"loading..."},{default:c(()=>[Ce]),_:1})):te("",!0),D("div",Oe,[d(r,{store:g(t)},null,8,["store"]),d(g(se),{class:"grow","auto-resize":"","show-compile-output":"",store:g(t),"clear-console":!1},null,8,["store"])])]),_:1})}}});var Ue=xe(Le,[["__scopeId","data-v-83a81320"]]);ie(re);ae(Ue).mount("#app");
