var q=Object.defineProperty;var C=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var b=(s,e,t)=>e in s?q(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,g=(s,e)=>{for(var t in e||(e={}))H.call(e,t)&&b(s,t,e[t]);if(C)for(var t of C(e))T.call(e,t)&&b(s,t,e[t]);return s};var c=(s,e,t)=>(b(s,typeof e!="symbol"?e+"":e,t),t);import{u as G,c as O,a as L,d as U,b as K,r as $,I as W,e as X,f as Q,g as Y,o as d,h as w,i as f,w as l,F as E,j as N,k as _,l as D,m as k,n as y,t as Z,p as M,q as m,s as F,v as S,x as ee,y as te,z as se,R as ne,A as oe,B as ie,C as re,D as ae,E as ce}from"./vendor.eb9dc460.js";const le=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}};le();const ue=s=>btoa(unescape(encodeURIComponent(s))),pe=s=>decodeURIComponent(escape(atob(s))),R=s=>G(`https://data.jsdelivr.com/v1/package/npm/${s}`,{initialData:[],afterFetch:e=>(e.data=e.data.versions,e)}).json().data,I=(s,e,t="")=>{const n=e?`@${e}`:"";return`https://unpkg.com/${s}${n}${t}`},de=()=>{const s=R("vue");return O(()=>{var e;return(e=s.value)==null?void 0:e.filter(t=>L(t,"3.2.0",">="))})},fe=()=>{const s=R("vue-devui");return O(()=>{var e;return(e=s.value)==null?void 0:e.filter(t=>L(t,"1.0.0-beta.1",">="))})},me={class:"flex justify-between p-2"},he=D("h1",{class:"text-base"}," DevUI Playground ",-1),ve=k(" Share "),ge=k(" GitHub "),_e=U({props:{store:null},setup(s){const e=s,{success:t,warning:n}=K(),o=async()=>{if(!navigator.clipboard){n("navigator.clipboard is undefined");return}await navigator.clipboard.writeText(location.href),t("Current URL has been copied to clipboard.")},i=$({Vue:{name:"Vue",vers:de(),activeVer:e.store.versions.Vue,isLoading:!1},DevUI:{name:"DevUI",vers:fe(),activeVer:e.store.versions.DevUI,isLoading:!1}}),r=async(a,v)=>{i[a].isLoading=!0,await e.store.setVersion(a,v),i[a].isLoading=!1};return(a,v)=>{const B=W,J=X,x=Q,z=M,j=Y;return d(),w("div",me,[he,f(x,null,{default:l(()=>[(d(!0),w(E,null,N(_(i),u=>(d(),y(z,{key:u.name,spinning:u.isLoading},{default:l(()=>[f(x,null,{default:l(()=>[k(Z(u.name)+": ",1),f(J,{value:u.activeVer,"onUpdate:value":[p=>u.activeVer=p,p=>r(u.name,p)],class:"min-w-32",searchable:!0},{default:l(()=>[(d(!0),w(E,null,N(u.vers,p=>(d(),y(B,{key:p,label:p,value:p},null,8,["label","value"]))),128))]),_:2},1032,["value","onUpdate:value"])]),_:2},1024)]),_:2},1032,["spinning"]))),128)),f(j,{mode:"text",onClick:o},{default:l(()=>[ve]),_:1}),f(j,{mode:"link",href:"https://github.com/brenner8023/devui-playground",target:"_blank",rel:"noopener noreferrer"},{default:l(()=>[ge]),_:1})]),_:1})])}}}),ye="modulepreload",P={},Ie="./",be=function(e,t){return!t||t.length===0?e():Promise.all(t.map(n=>{if(n=`${Ie}${n}`,n in P)return;P[n]=!0;const o=n.endsWith(".css"),i=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${i}`))return;const r=document.createElement("link");if(r.rel=o?"stylesheet":ye,o||(r.as="script",r.crossOrigin=""),r.href=n,document.head.appendChild(r),o)return new Promise((a,v)=>{r.addEventListener("load",a),r.addEventListener("error",v)})})).then(()=>e())},V="devui.js",we=`
import { getCurrentInstance } from 'vue'
import DevUI from 'vue-devui'

const install = (app) => {
  app.use(DevUI)
};

const loadCss = () => {
  const link = document.createElement('link')
  link.rel = 'stylesheet'
  link.href = '${I("vue-devui","1.0.0-beta.14","/style.css")}'
  document.body.appendChild(link)
}

export const setupDevui = () => {
  const instance = getCurrentInstance()
  instance.appContext.app.use({ install })
  loadCss()
};`,h="App.vue",A=`<template>
  <h1>
    Hello, DevUI!
  </h1>
  <d-button style="margin-right: 8px">Primary</d-button>
  <d-button :disabled="true">Disabled</d-button>
</template>

<script setup lang="ts">
import { setupDevui } from './devui.js'

// don't remove
setupDevui()
<\/script>`,De=s=>{const{Vue:e,DevUI:t}=s;return{"vue-devui":{pkg:"vue-devui",version:t,file:"/vue-devui.es.js"},vue:{pkg:"vue",version:e,file:"/dist/vue.esm-browser.js"}}},ke=(s="")=>{let e={[h]:new m(h,A)};if(s)try{e={};const t=JSON.parse(pe(s));for(const n of Object.keys(t))e[n]=new m(n,t[n])}catch(t){console.log(t),console.log("Json parse error: src/repl-store/index.ts")}return e},Se=s=>{const e=I("@vue/compiler-sfc",s,"/dist/compiler-sfc.esm-browser.js"),t=I("@vue/runtime-dom",s,"/dist/runtime-dom.esm-browser.js");return{compilerSfc:e,runtimeDom:t}},Ve=s=>{const e=g({},De(s));return Object.fromEntries(Object.entries(e).map(([t,n])=>[t,I(n.pkg,n.version,n.file)]))};class xe{constructor({serializedState:e="",versions:t={Vue:"3.2.29",DevUI:"latest"}}){c(this,"state");c(this,"compiler");c(this,"options");c(this,"versions");c(this,"initialShowOutput",!1);c(this,"initialOutputMode","preview");c(this,"pendingCompiler",null);const n=ke(e),o=n[h]?h:Object.keys(n)[0];this.state=$({mainFile:o,files:n,activeFile:n[o],errors:[],vueRuntimeURL:""}),this.versions=t,this.initImportMap()}initImportMap(){this.state.files["import-map.json"]||(this.state.files["import-map.json"]=new m("import-map.json",JSON.stringify({imports:{}},null,2)))}async initStore(){await this.setVueVersion(this.versions.Vue),this.state.files[V]=new m(V,we,!0),F(()=>S(this,this.state.activeFile));for(const e of Object.keys(this.state.files))e!==h&&S(this,this.state.files[e])}setActive(e){this.state.activeFile=this.state.files[e]}addFile(e){const t=typeof e=="string"?new m(e):e;this.state.files[t.filename]=t,t.hidden||this.setActive(t.filename)}deleteFile(e){(window==null?void 0:window.confirm(`Confirm to delete ${e}?`))&&(this.state.activeFile.filename===e&&(this.state.activeFile=this.state.files[this.state.mainFile]),delete this.state.files[e])}getFiles(){const e={};for(const t of Object.keys(this.state.files))e[t]=this.state.files[t].code;return e}async setFiles(e,t=h){const n={};t===h&&!e[t]&&(n[t]=new m(t,A));for(const[o,i]of Object.entries(e))n[o]=new m(o,i);for(const o of Object.values(n))await S(this,o);this.state.mainFile=t,this.state.files=n,this.initImportMap(),this.setActive(t)}setImportMap(e){try{this.state.files["import-map.json"].code=JSON.stringify(e,null,2)}catch(t){this.state.errors=[`stringify error in import-map.json: ${t.message}`]}}serialize(){const e=Object.entries(this.getFiles()).filter(([n])=>n!==V).map(([n,o])=>{if(n==="import-map.json")try{const i=JSON.stringify(this.getImportMap());return[n,i]}catch{}return[n,o]}),t=JSON.stringify(Object.fromEntries(e));return`#${ue(t)}`}getImportMap(){try{return JSON.parse(this.state.files["import-map.json"].code)}catch(e){return this.state.errors=[`Syntax error in import-map.json: ${e.message}`],{}}}addDeps(){const e=this.getImportMap();e.imports=g(g({},e.imports),Ve(this.versions)),this.setImportMap(e)}async setVersion(e,t){switch(e){case"DevUI":await this.setDevuiVersion(t);break;case"Vue":await this.setVueVersion(t);break}}async setDevuiVersion(e){this.versions.DevUI=e,this.addDeps()}async setVueVersion(e){const{compilerSfc:t,runtimeDom:n}=Se(e);this.pendingCompiler=be(()=>import(t),[]),this.compiler=await this.pendingCompiler,this.pendingCompiler=null,this.state.vueRuntimeURL=n,this.versions.Vue=e,this.addDeps()}}var je=(s,e)=>{const t=s.__vccOpts||s;for(const[n,o]of e)t[n]=o;return t};const Ce=s=>(oe("data-v-e2dcf550"),s=s(),ie(),s),Oe=Ce(()=>D("div",{class:"ixp-height-full"},null,-1)),Le={class:"flex flex-col ixp-height-full"},Ue=U({setup(s){const e=ee(!0),t=new xe({serializedState:location.hash.slice(1)});return t.initStore().then(()=>{e.value=!1}),F(()=>history.replaceState({},"",t.serialize())),(n,o)=>{const i=M,r=_e,a=te;return d(),y(a,null,{default:l(()=>[e.value?(d(),y(i,{key:0,tip:"loading..."},{default:l(()=>[Oe]),_:1})):se("",!0),D("div",Le,[f(r,{store:_(t)},null,8,["store"]),f(_(ne),{class:"grow","auto-resize":"","show-compile-output":"",store:_(t),"clear-console":!1},null,8,["store"])])]),_:1})}}});var $e=je(Ue,[["__scopeId","data-v-e2dcf550"]]);re(ae);ce($e).mount("#app");
